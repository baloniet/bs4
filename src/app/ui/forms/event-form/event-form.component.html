<template #customDay let-date="date" let-currentMonth="currentMonth" let-selected="selected" let-disabled="disabled">
  <span class="custom-day" [class.weekend]="isWeekend(date)" [class.bg-primary]="selected" [class.hidden]="date.month !== currentMonth"
    [class.text-muted]="disabled">
    {{ date.day }}
  </span>
</template>


<div class="container">
  <div class="card">
    <!-- Default panel contents -->
    <div class="card-header">
      <!-- Form title -->
      <form-title [param]="param" [formTitles]="formTitles" [isDelete]="isDelete()">
      </form-title>
      <h6 class="card-subtitle text-muted"><b>{{act.name}}</b> <i>{{act.opis | slice:0:50}} ...</i><br>
        <b>Izvajalci</b> <span *ngFor="let t of teachers">{{t.name}} </span><br>
        <b>Prostovoljci</b> <span *ngFor="let v of volunteers">{{v.name}} </span>
      </h6>
    </div>
    <div class="card-block">
      <form [formGroup]="form">
        <fieldset>

          <!-- Text input-->
          <div class="form-group row">
            <label class="col-form-label col-md-2" for="name">{{formLabels?.name?.name}}</label>
            <div class="col-md-3">
              <input formControlName="name" type="text" placeholder="{{formLabels?.name?.placeholder}}" class="form-control">
              <small *ngIf="!isDelete" class="form-text text-muted">{{formLabels?.name?.help}}</small>
            </div>
          </div>

          <!-- Text input-->
          <div class="form-group row">
            <label class="col-form-label col-md-2" for="content">{{formLabels?.content?.name}}</label>
            <div class="col-md-4">
              <textarea class="form-control" formControlName="content" placeholder="{{formLabels?.content?.placeholder}}" rows="3">
							</textarea>
              <small class="form-text">{{formLabels?.content?.help}}</small>
            </div>
          </div>

          <!-- Text input room-->
          <div class="form-group row">
            <label class="col-md-2 col-form-label" for="room">{{formLabels?.room?.name}}</label>
            <div class="col-md-3">
              <ng-select [allowClear]="true" [items]="roomItems" [active]="roomSel" placeholder="{{formLabels?.room?.placeholder}}" (selected)="selected($event,'room')">
              </ng-select>
            </div>


            <!-- Text input startdate-->
            <label class="col-md-2 col-form-label" for="startdate">{{formLabels?.startdate?.name}}</label>
            <div class="col-md-3">
              <div class="input-group">
                <input formControlName="startdate" readonly class="form-control" ngbDatepicker #dtp="ngbDatepicker" [dayTemplate]="customDay">
                <div class="input-group-addon" (click)="dtp.toggle()">
                  <i class="fa fa-calendar clickable" aria-hidden="true"></i>
                </div>
              </div>
              <small class="form-text text-muted">{{formLabels?.startdate?.help}}</small>
            </div>
          </div>

          <!-- Text input start/ebd time-->
          <div class="form-group row">

             <label class="form-check-inline">
              <input type="checkbox" class="form-check-input pull-left" formControlName="isday">
              <i class="fa fa-clock-o" aria-hidden="true"> </i> {{formLabels?.isday?.name}}
            </label>

            <label class="col-md-1 col-form-label" for="starttime">{{formLabels?.starttime?.name}}</label>
            <div class="col-md-3">
              <div class="input-group">
                <ngb-timepicker formControlName="starttime" [spinners]="OFF" [readonlyInputs]="form.value.isday || (form.value.startdate?.day == null)"></ngb-timepicker>
              </div>
              <small class="form-text text-muted">{{formLabels?.starttime?.help}}</small>
            </div>

            <label class="col-md-1 col-form-label" for="endtime">{{formLabels?.endtime?.name}}</label>
            <div class="col-md-3">
              <div class="input-group">
                <ngb-timepicker formControlName="endtime" [spinners]="OFF" [readonlyInputs]="form.value.isday || !form.value.startdate?.day"></ngb-timepicker>
              </div>
              <small class="form-text text-muted">{{formLabels?.endtime?.help}}</small>
            </div>


          </div>

          <!-- Form buttons -->
          <form-button [form]="form" [formTitles]="formTitles" [isDelete]="isDelete()" (onBack)="back()" (onSave)="save(form.value)"
            (onDelete)="delete(form.value)">
          </form-button>

        </fieldset>
      </form>
    </div>
  </div>
</div>

<pre>{{form.value|json}}</pre>